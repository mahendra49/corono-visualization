{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js","webpack:///./src/js/utils.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAA4B;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,aAAa,EAAE;AACzC;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,8CAAK;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC,cAAc,8CAAK;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,uCAAuC,KAAK;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;;;;;;;;;;;;ACtMA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEe,gEAAC,6CAA6C,EAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","import utils from \"./utils\";\n//const colors = [\"#e25a53\", \"#fdb35d\", \"#fbf5e8\", \"#a4d9d6\"];\n//ALL DATA\n\nconst NUMBER_OF_PEOPLE = 1000;\nconst INFECTED_PEOPLE = 1;\nconst INFECTED_COLOR = \"#e25a53\";\nconst NORMAL_COLOR = \"#5FAD41\";\nconst QUARATINR_COLOR = \"#996515\";\n\nconst MAX_DISTANCE = -5; //social distance 3\nconst CANVAS_HEIGHT = 570;\nconst CANVAS_WIDTH = 500;\n\nlet animation_id;\nlet isPaused = true;\n\nconst canvas = document.querySelector(\"#my-canvas\");\nlet c = canvas.getContext(\"2d\");\ncanvas.width = CANVAS_WIDTH;\ncanvas.height = CANVAS_HEIGHT;\n\nlet line_chart;\nconst _line_chart_canvas = document.querySelector(\"#line-chart\");\nlet line_chart_c = _line_chart_canvas.getContext(\"2d\");\n\nconst mouse = {\n  x: undefined,\n  y: undefined\n};\n\nconst velocity = {\n  dx: 2,\n  dy: 2\n};\n\nlet circles = [];\n//let line_chart_data = [{ x: 1, y: 1 }]; // x : days, y:infected\nlet total_infected = 0;\nlet days = 0;\nlet total_frames = 0; //every 2 secs ie. 120 frames counts as a day\nlet frame_to_days = 60;\n\n// all classes\nclass Circle {\n  constructor(x, y, r, color, dx, dy) {\n    this.x = x;\n    this.y = y;\n    this.r = r || 15;\n    this.color = color;\n    this.dx = dx || velocity.dx;\n    this.dy = dy || velocity.dy;\n  }\n\n  draw() {\n    c.beginPath();\n    c.arc(this.x, this.y, this.r, 0, Math.PI * 2, false);\n    c.fillStyle = this.color;\n    c.fill();\n    c.closePath();\n  }\n\n  update() {\n    this.checkForWindow();\n    this.x += this.dx;\n    this.y += this.dy;\n    this.draw();\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  checkForWindow() {\n    if (this.x + this.r > canvas.width || this.x - this.r < 0)\n      this.dx = -this.dx;\n    if (this.y + this.r > canvas.height || this.y - this.r < 0)\n      this.dy = -this.dy;\n  }\n}\n\nfunction collide(circle) {\n  for (let i of circles) {\n    if (i == circle) continue;\n    const distance = utils.distance(i, circle) - circle.r - i.r;\n    if (distance < MAX_DISTANCE && circle.color === INFECTED_COLOR) {\n      i.color = INFECTED_COLOR;\n    }\n  }\n}\n\n/* \n  100 GREEN people and 1 RED PEOPLE\n*/\nfunction init() {\n  circles = [];\n  for (let i = 0; i < NUMBER_OF_PEOPLE; i++) {\n    const r = utils.getRandomArbitrary(2, 4);\n    const x = Math.random() * canvas.width;\n    const y = Math.random() * canvas.height;\n    const color = NORMAL_COLOR;\n    const dx = (Math.random() - 0.5) * 2;\n    const dy = (Math.random() - 0.5) * 2;\n    circles.push(new Circle(x, y, r, color, dx, dy));\n  }\n  fill_infected(INFECTED_PEOPLE);\n}\n\nfunction draw_line_chart() {\n  line_chart = new Chart(line_chart_c, {\n    type: \"line\",\n    data: {\n      labels: [],\n      datasets: [\n        {\n          label: \"INFECTED - WITH SOCIAL DISTANCING/MASKS\",\n          data: [],\n          backgroundColor: INFECTED_COLOR,\n          borderColor: \"rgb(0,0,0)\",\n          borderWidth: 1\n        }\n      ]\n    },\n    scales: {\n      xAxes: [\n        {\n          // aqui controlas la cantidad de elementos en el eje horizontal con autoSkip\n          ticks: {\n            autoSkip: true,\n            maxTicksLimit: 20\n          }\n        }\n      ],\n      yAxes: [\n        {\n          // aqui controlas la cantidad de elementos en el eje horizontal con autoSkip\n          ticks: {\n            autoSkip: true,\n            maxRotation: 0,\n            minRotation: 0\n          }\n        }\n      ]\n    }\n  });\n}\n\nfunction fill_infected(count) {\n  for (let i = 0; i < count; i++) {\n    circles[i].color = INFECTED_COLOR;\n  }\n}\n\nfunction animate() {\n  c.clearRect(0, 0, canvas.width, canvas.height);\n  total_infected = 0;\n  total_frames++;\n  circles.forEach(circle => {\n    if (circle.color === INFECTED_COLOR) total_infected++;\n    collide(circle);\n  });\n  circles.forEach(circle => {\n    circle.update();\n  });\n\n  //every frame_to_days we count as a day\n  if (total_frames % frame_to_days === 0) {\n    days++;\n    line_chart.data.datasets[0].data.push(total_infected);\n    line_chart.data.labels.push(`day ${days}`);\n    line_chart.update();\n  }\n  animation_id = requestAnimationFrame(animate);\n}\n\n//all controls\nfunction allEvents(params) {\n  document\n    .querySelector(\"#start-button\")\n    .addEventListener(\"click\", function(params) {\n      if (isPaused) {\n        animate();\n        isPaused = !isPaused;\n      }\n    });\n\n  document\n    .querySelector(\"#stop-button\")\n    .addEventListener(\"click\", function(params) {\n      if (!isPaused) {\n        cancelAnimationFrame(animation_id);\n        isPaused = !isPaused;\n      }\n    });\n}\n\ninit();\ndraw_line_chart();\nallEvents();\n","export function getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nexport function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function distance(object1, object2) {\n  const xd = object1.x - object2.x;\n  const yd = object1.y - object2.y;\n  const dis = Math.sqrt(xd * xd + yd * yd);\n  return dis;\n}\n\nexport default { getRandomArbitrary, getRandomInt, distance };\n"],"sourceRoot":""}